{"version":3,"sources":["webpack:////Users/gaoxs/Documents/project/yshopmall_uni/main.js","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/shop/GoodsCollection/index.vue?dfe3","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/shop/GoodsCollection/index.vue?09ea","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/shop/GoodsCollection/index.vue?f7c2","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/shop/GoodsCollection/index.vue?7a40","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/shop/GoodsCollection/index.vue"],"names":["createPage","Page","name","components","Recommend","Loading","props","data","page","limit","collectProductList","loadTitle","loading","loadend","mounted","get_user_collect_product","onReachBottom","methods","goGoodsCon","item","$yrouter","push","path","query","id","pid","that","then","res","apply","length","delCollection","index","category","uni","showToast","title","icon","duration","complete","splice","$set"],"mappings":"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","file":"pages/shop/GoodsCollection/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/shop/GoodsCollection/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=acee7ef6&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('acee7ef6')) {\n      api.createRecord('acee7ef6', component.options)\n    } else {\n      api.reload('acee7ef6', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=acee7ef6&\", function () {\n      api.rerender('acee7ef6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaoxs/Documents/project/yshopmall_uni/pages/shop/GoodsCollection/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=acee7ef6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Recommend from \"@/components/Recommend\";\nimport { getCollectUser, getCollectDel } from \"@/api/user\";\nimport Loading from \"@/components/Loading\";\nexport default {\n  name: \"GoodsCollection\",\n  components: {\n    Recommend,\n    Loading\n  },\n  props: {},\n  data: function() {\n    return {\n      page: 1,\n      limit: 20,\n      collectProductList: [],\n      loadTitle: \"\",\n      loading: false,\n      loadend: false\n    };\n  },\n  mounted: function() {\n    this.get_user_collect_product();\n  },\n  onReachBottom() {\n    !this.loading && this.get_user_collect_product();\n  },\n  methods: {\n    goGoodsCon(item) {\n      this.$yrouter.push({\n        path: \"/pages/shop/GoodsCon/index\",\n        query: { id: item.pid }\n      });\n    },\n    get_user_collect_product: function() {\n      let that = this;\n      if (that.loading) return; //阻止下次请求（false可以进行请求）；\n      if (that.loadend) return; //阻止结束当前请求（false可以进行请求）；\n      that.loading = true;\n      getCollectUser(that.page, that.limit).then(res => {\n        that.loading = false;\n        //apply();js将一个数组插入另一个数组;\n        that.collectProductList.push.apply(that.collectProductList, res.data);\n        that.loadend = res.data.length < that.limit; //判断所有数据是否加载完成；\n        that.page = that.page + 1;\n      });\n    },\n    //删除收藏；\n    delCollection: function(index) {\n      let that = this,\n        id = that.collectProductList[index].pid,\n        category = that.collectProductList[index].category;\n      getCollectDel(id, category).then(function() {\n        uni.showToast({\n          title: \"添加购物车成功\",\n          icon: \"success\",\n          duration: 2000,\n          complete: () => {\n            that.collectProductList.splice(index, 1);\n            that.$set(that, \"collectProductList\", that.collectProductList);\n          }\n        });\n      });\n    }\n  }\n};\n"],"sourceRoot":""}