{"version":3,"sources":["webpack:////Users/gaoxs/Documents/project/yshopmall_uni/main.js","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/address/AddAddress/index.vue?2b64","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/address/AddAddress/index.vue?6212","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/address/AddAddress/index.vue?18ff","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/address/AddAddress/index.vue?e734","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/address/AddAddress/index.vue"],"names":["createPage","Page","components","data","show2","model2","district","id","userAddress","isDefault","address","isWechat","mounted","$yroute","query","getUserAddress","then","res","methods","that","province","city","getAddress","submit","name","realName","phone","detail","$validator","required","message","attrs","range","chs_phone","validate","real_name","is_default","post_code","uni","showToast","title","icon","duration","$yrouter","replace","path","go","err","msg","response","ChangeIsDefault","closeaArea","result2","ret","values","mp"],"mappings":"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","file":"pages/user/address/AddAddress/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/user/address/AddAddress/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7291f344&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7291f344')) {\n      api.createRecord('7291f344', component.options)\n    } else {\n      api.reload('7291f344', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=7291f344&\", function () {\n      api.rerender('7291f344', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaoxs/Documents/project/yshopmall_uni/pages/user/address/AddAddress/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7291f344&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.show2 = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { CitySelect } from \"vue-ydui/dist/lib.rem/cityselect\";\n// import District from \"@/utils/area\";\nimport { getAddress, postAddress, district } from \"@/api/user\";\nimport attrs, { required, chs_phone } from \"@/utils/validate\";\nimport { validatorDefaultCatch } from \"@/utils/dialog\";\n// import { openAddress } from \"@/libs/wechat\";\nimport { isWeixin } from \"@/utils\";\n\nexport default {\n  components: {\n    // CitySelect\n  },\n  data() {\n    return {\n      show2: false,\n      model2: \"\",\n      district: {},\n      id: 0,\n      userAddress: { isDefault: 0 },\n      address: {},\n      isWechat: isWeixin()\n    };\n  },\n  mounted: function() {\n    let id = this.$yroute.query.id;\n    this.id = id;\n    // document.title = !id ? \"添加地址\" : \"修改地址\";\n    this.getUserAddress();\n    district().then(res => {\n      this.district = res.data;\n    });\n  },\n  methods: {\n    getUserAddress: function() {\n      if (!this.id) return false;\n      let that = this;\n      getAddress(that.id).then(res => {\n        that.userAddress = res.data;\n        that.model2 =\n          res.data.province + \" \" + res.data.city + \" \" + res.data.district;\n        that.address.province = res.data.province;\n        that.address.city = res.data.city;\n        that.address.district = res.data.district;\n      });\n    },\n    getAddress() {},\n    async submit() {\n      let name = this.userAddress.realName,\n        phone = this.userAddress.phone,\n        model2 = this.model2,\n        detail = this.userAddress.detail,\n        isDefault = this.userAddress.isDefault;\n      try {\n        await this.$validator({\n          name: [\n            required(required.message(\"姓名\")),\n            attrs.range([2, 16], attrs.range.message(\"姓名\"))\n          ],\n          phone: [\n            required(required.message(\"联系电话\")),\n            chs_phone(chs_phone.message())\n          ],\n          model2: [required(\"请选择地址\")],\n          detail: [required(required.message(\"具体地址\"))]\n        }).validate({ name, phone, model2, detail });\n      } catch (e) {\n        return validatorDefaultCatch(e);\n      }\n      try {\n        let that = this,\n          data = {\n            id: that.id,\n            real_name: name,\n            phone: phone,\n            address: this.address,\n            detail: detail,\n            is_default: isDefault,\n            post_code: \"\"\n          };\n        postAddress(data).then(function() {\n          if (that.id) {\n            uni.showToast({\n              title: \"修改成功\",\n              icon: \"none\",\n              duration: 2000\n            });\n          } else {\n            uni.showToast({\n              title: \"已取消绑定\",\n              icon: \"none\",\n              duration: 2000\n            });\n            that.$yrouter.replace({\n              path: \"/pages/user/PersonalData/index\"\n            });\n          }\n          that.$yrouter.go(-1);\n        });\n      } catch (err) {\n        uni.showToast({\n          title: err.msg || err.response.data.msg,\n          icon: \"none\",\n          duration: 2000\n        });\n      }\n    },\n    ChangeIsDefault: function() {\n      this.userAddress.isDefault = !this.userAddress.isDefault;\n    },\n    closeaArea() {\n      this.show2 = false;\n    },\n    result2(ret) {\n      let values = ret.mp.detail.values;\n      this.closeaArea();\n      this.address.province = values[0].name || \"\";\n      this.address.city = values[1].name || \"\";\n      this.address.district = values[2].name || \"\";\n      this.model2 =\n        this.address.province + this.address.city + this.address.district;\n    }\n  }\n};\n"],"sourceRoot":""}