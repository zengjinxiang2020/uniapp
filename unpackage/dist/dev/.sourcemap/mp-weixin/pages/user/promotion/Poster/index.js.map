{"version":3,"sources":["webpack:////Users/piao/Documents/Project/yshopmall_uni/main.js","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue?9254","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue?8fa7","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue?d573","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue?8bb8","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue?6ac8","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue?aa0f"],"names":["createPage","Page","name","components","props","data","swiperPosters","speed","effect","slidesPerView","centeredSlides","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","observer","observeParents","info","activeIndex","mounted","getIndex","that","computed","swiper","methods","then","res","err","$dialog","message","msg","downloadIamge","imgsrc","isDown","downloadUrl","wx","saveImageToPhotosAlbum","showModal","title","content","openDialogVisible","getSetting","success","authSetting","authorize","scope","downloadImage","fail","openSetting","saveImg","wap_poster"],"mappings":"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","file":"pages/user/promotion/Poster/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/user/promotion/Poster/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3adb245a&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3adb245a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3adb245a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3adb245a')) {\n      api.createRecord('3adb245a', component.options)\n    } else {\n      api.reload('3adb245a', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=3adb245a&scoped=true&\", function () {\n      api.rerender('3adb245a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/piao/Documents/Project/yshopmall_uni/pages/user/promotion/Poster/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3adb245a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { swiper, swiperSlide } from \"vue-awesome-swiper\";\nimport { getSpreadImg } from \"@/api/user\";\n\nexport default {\n  name: \"Poster\",\n  components: {\n    // swiper,\n    // swiperSlide\n  },\n  props: {},\n  data: function() {\n    return {\n      swiperPosters: {\n        speed: 1000,\n        effect: \"coverflow\",\n        slidesPerView: \"auto\",\n        centeredSlides: true,\n        coverflowEffect: {\n          rotate: 0, // 旋转的角度\n          stretch: -20, // 拉伸   图片间左右的间距和密集度\n          depth: 100, // 深度   切换图片间上下的间距和密集度\n          modifier: 3, // 修正值 该值越大前面的效果越明显\n          slideShadows: false // 页面阴影效果\n        },\n        observer: true,\n        observeParents: true\n      },\n      info: [],\n      activeIndex: 0\n    };\n  },\n  mounted: function() {\n    this.getIndex();\n    let that = this;\n    // this.swiper.on(\"slideChange\", function() {\n    //   that.activeIndex = that.swiper.activeIndex;\n    // });\n  },\n  computed: {\n    swiper() {\n      // return this.$refs.mySwiper.swiper;\n    }\n  },\n  methods: {\n    getIndex: function() {\n      let that = this;\n      getSpreadImg().then(\n        res => {\n          that.info = res.data;\n        },\n        err => {\n          that.$dialog.message(err.msg);\n        }\n      );\n    },\n    downloadIamge: function(imgsrc, name) {\n      // let image = new Image();\n      // image.setAttribute(\"crossOrigin\", \"anonymous\");\n      // image.onload = function() {\n      //   // let canvas = document.createElement(\"canvas\");\n      //   // canvas.width = image.width;\n      //   // canvas.height = image.height;\n      //   // let context = canvas.getContext(\"2d\");\n      //   // context.drawImage(image, 0, 0, image.width, image.height);\n      //   // let url = canvas.toDataURL(\"image/png\"); //得到图片的base64编码数据\n      //   // let a = document.createElement(\"a\"); // 生成一个a元素\n      //   // let event = new MouseEvent(\"click\"); // 创建一个单击事件\n      //   // a.download = name || \"photo\"; // 设置图片名称\n      //   // a.href = url; // 将生成的URL设置为a.href属性\n      //   // a.dispatchEvent(event); // 触发a的单击事件\n      // };\n      // image.src = imgsrc;\n\n      var that = this;\n      this.isDown = true;\n      var downloadUrl = imgsrc;\n\n      if (!wx.saveImageToPhotosAlbum) {\n        wx.showModal({\n          title: \"提示\",\n          content:\n            \"当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。\"\n        });\n        that.openDialogVisible = true;\n\n        return;\n      }\n\n      // 可以通过 wx.getSetting 先查询一下用户是否授权了 \"scope.writePhotosAlbum\" 这个 scope\n      wx.getSetting({\n        success(res) {\n          if (!res.authSetting[\"scope.writePhotosAlbum\"]) {\n            that.openDialogVisible = true;\n\n            // 接口调用询问\n            wx.authorize({\n              scope: \"scope.writePhotosAlbum\",\n              success() {\n                that.downloadImage(downloadUrl);\n              },\n              fail() {\n                // 用户拒绝了授权\n                // 打开设置页面\n                wx.openSetting({\n                  success: function(data) {},\n                  fail: function(data) {}\n                });\n              }\n            });\n          } else {\n            that.downloadImage(downloadUrl);\n          }\n        },\n        fail(res) {\n          that.openDialogVisible = true;\n        }\n      });\n    },\n    saveImg: function() {\n      this.downloadIamge(\n        this.info[this.activeIndex].wap_poster,\n        \"poster\" + this.activeIndex\n      );\n    }\n  }\n};\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3adb245a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3adb245a&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}