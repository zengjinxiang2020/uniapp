{"version":3,"sources":["webpack:////Users/gaoxs/Documents/project/yshopmall_uni/main.js","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/BindingPhone/index.vue?b4f4","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/BindingPhone/index.vue?90e0","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/BindingPhone/index.vue?ae57","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/BindingPhone/index.vue?b56e","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/user/BindingPhone/index.vue"],"names":["createPage","Page","name","components","props","data","captcha","phone","mixins","sendVerifyCode","computed","mounted","methods","confirm","that","$validator","chs_phone","message","alpha_num","required","validate","then","res","undefined","is_bind","uni","showModal","title","content","success","step","showToast","msg","icon","duration","$yrouter","replace","path","catch","cancel","code","sendCode"],"mappings":"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","file":"pages/user/BindingPhone/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/user/BindingPhone/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=37b6058e&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('37b6058e')) {\n      api.createRecord('37b6058e', component.options)\n    } else {\n      api.reload('37b6058e', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=37b6058e&\", function () {\n      api.rerender('37b6058e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaoxs/Documents/project/yshopmall_uni/pages/user/BindingPhone/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=37b6058e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from \"vuex\";\nimport sendVerifyCode from \"@/mixins/SendVerifyCode\";\nimport { required, alpha_num, chs_phone } from \"@/utils/validate\";\nimport { validatorDefaultCatch } from \"@/utils/dialog\";\nimport { registerVerify, bindingPhone } from \"@/api/user\";\n\nexport default {\n  name: \"BindingPhone\",\n  components: {},\n  props: {},\n  data: function() {\n    return {\n      captcha: \"\",\n      phone: \"\" //手机号\n    };\n  },\n  mixins: [sendVerifyCode],\n  computed: mapGetters([\"userInfo\"]),\n  mounted: function() {},\n  methods: {\n    async confirm() {\n      let that = this;\n      const { phone, captcha } = that;\n      try {\n        await that\n          .$validator({\n            phone: [\n              chs_phone(chs_phone.message(\"手机号码\")),\n              alpha_num(alpha_num.message())\n            ],\n            captcha: [\n              required(required.message(\"验证码\")),\n              alpha_num(alpha_num.message(\"验证码\"))\n            ]\n          })\n          .validate({ phone, captcha });\n      } catch (e) {\n        return validatorDefaultCatch(e);\n      }\n      bindingPhone({\n        phone: this.phone,\n        captcha: this.captcha\n      })\n        .then(res => {\n          if (res.data !== undefined && res.data.is_bind) {\n            uni.showModal({\n              title: \"提示\",\n              content: \"确认绑定?\",\n              success: function(res) {\n                if (res.confirm) {\n                  bindingPhone({\n                    phone: this.phone,\n                    captcha: this.captcha,\n                    step: 1\n                  })\n                    .then(res => {\n                      uni.showToast({\n                        title: res.msg,\n                        icon: \"none\",\n                        duration: 2000\n                      });\n                      that.$yrouter.replace({\n                        path: \"/pages/user/PersonalData/index\"\n                      });\n                    })\n                    .catch(res => {\n                      uni.showToast({\n                        title: res.msg,\n                        icon: \"none\",\n                        duration: 2000\n                      });\n                      that.$yrouter.replace({\n                        path: \"/pages/user/PersonalData/index\"\n                      });\n                    });\n                } else if (res.cancel) {\n                  uni.showToast({\n                    title: \"已取消绑定\",\n                    icon: \"none\",\n                    duration: 2000\n                  });\n                  that.$yrouter.replace({\n                    path: \"/pages/user/PersonalData/index\"\n                  });\n                }\n              }\n            });\n          } else {\n            uni.showToast({\n              title: res.msg,\n              icon: \"none\",\n              duration: 2000\n            });\n            that.$yrouter.replace({ path: \"/pages/user/PersonalData/index\" });\n          }\n        })\n        .catch(res => {\n          uni.showToast({\n            title: res.msg,\n            icon: \"none\",\n            duration: 2000\n          });\n        });\n    },\n    async code() {\n      let that = this;\n      const { phone } = that;\n      try {\n        await that\n          .$validator({\n            phone: [\n              required(required.message(\"手机号码\")),\n              chs_phone(chs_phone.message())\n            ]\n          })\n          .validate({ phone });\n      } catch (e) {\n        return validatorDefaultCatch(e);\n      }\n\n      registerVerify({ phone: phone })\n        .then(res => {\n          uni.showToast({\n            title: res.msg,\n            icon: \"none\",\n            duration: 2000\n          });\n          that.sendCode();\n        })\n        .catch(res => {\n          uni.showToast({\n            title: res.msg,\n            icon: \"none\",\n            duration: 2000\n          });\n        });\n    }\n  }\n};\n"],"sourceRoot":""}