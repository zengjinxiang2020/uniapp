{"version":3,"sources":["webpack:////Users/piao/Documents/Project/yshopmall_uni/main.js","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/GoodsReturn/index.vue?3f06","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/GoodsReturn/index.vue?197d","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/GoodsReturn/index.vue?00dd","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/GoodsReturn/index.vue?2b9c","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/GoodsReturn/index.vue"],"names":["createPage","Page","name","components","data","url","VUE_APP_API_URL","headers","Authorization","$store","state","token","id","orderInfo","reasonList","reason","refund_reason_wap_explain","refund_reason_wap_img","methods","changeReason","e","mp","detail","value","imageuploaded","res","status","$dialog","error","msg","push","getOrderDetail","then","catch","err","response","getRefundReason","submit","text","toast","mes","uni","orderId","join","wx","showToast","title","icon","duration","setTimeout","$yrouter","back","mounted","$yroute","query"],"mappings":"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","file":"pages/order/GoodsReturn/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/order/GoodsReturn/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=538f07fc&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('538f07fc')) {\n      api.createRecord('538f07fc', component.options)\n    } else {\n      api.reload('538f07fc', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=538f07fc&\", function () {\n      api.rerender('538f07fc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/piao/Documents/Project/yshopmall_uni/pages/order/GoodsReturn/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=538f07fc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { orderDetail, getRefundReason, postOrderRefund } from \"@/api/order\";\nimport { trim } from \"@/utils\";\nimport { VUE_APP_API_URL } from \"@/config\";\n\nexport default {\n  name: \"goodsReturn\",\n  components: {\n    // VueCoreImageUpload\n  },\n  data() {\n    return {\n      url: `${VUE_APP_API_URL}/upload/image`,\n      headers: {\n        Authorization: \"Bearer \" + this.$store.state.token\n      },\n      id: 0,\n      orderInfo: {},\n      reasonList: [],\n      reason: \"\",\n      refund_reason_wap_explain: \"\",\n      refund_reason_wap_img: []\n    };\n  },\n  methods: {\n    changeReason(e) {\n      this.reason = this.reasonList[e.mp.detail.value];\n    },\n    imageuploaded(res) {\n      if (res.status !== 200)\n        return this.$dialog.error(res.msg || \"上传图片失败\");\n      this.refund_reason_wap_img.push(res.data.url);\n    },\n    getOrderDetail() {\n      orderDetail(this.id)\n        .then(res => {\n          this.orderInfo = res.data;\n        })\n        .catch(err => {\n          this.$dialog.error(err.response.data.msg || \"获取订单失败\");\n        });\n    },\n    getRefundReason() {\n      getRefundReason().then(res => {\n        this.reasonList = res.data;\n      });\n    },\n    submit() {\n      const refund_reason_wap_explain = trim(this.refund_reason_wap_explain),\n        text = this.reason;\n      if (!text) return this.$dialog.toast({ mes: \"请选择退款原因\" });\n      postOrderRefund({\n        text,\n        uni: this.orderInfo.orderId,\n        refund_reason_wap_img: this.refund_reason_wap_img.join(\",\"),\n        refund_reason_wap_explain\n      })\n        .then(res => {\n          wx.showToast({\n            title: res.msg,\n            icon: \"success\",\n            duration: 2000\n          });\n          setTimeout(() => {\n            this.$yrouter.back();\n          }, 1500);\n        })\n        .catch(err => {\n          this.$dialog.error(err.msg||err.response.data.msg);\n        });\n    }\n  },\n  mounted() {\n    this.id = this.$yroute.query.id || 0;\n    this.getOrderDetail();\n    this.getRefundReason();\n  }\n};\n"],"sourceRoot":""}