{"version":3,"sources":["webpack:////Users/piao/Documents/Project/yshopmall_uni/main.js","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue?c51f","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue?f1a7","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue?0642","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue?0af9","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue?74f9","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue?4bde"],"names":["createPage","Page","NAME","_isWeixin","name","components","OrderGoods","CouponListWindow","AddressWindow","props","data","offlinePayStatus","from","deduction","isWeixin","pinkId","active","showCoupon","showAddress","addressInfo","couponId","orderGroupInfo","priceGroup","usableCoupon","addressLoaded","useIntegral","orderPrice","payPrice","mark","system_store","shipping_type","contacts","contactsTel","store_self_mention","computed","watch","computedPrice","$yroute","n","getCartInfo","mounted","that","query","pinkid","undefined","methods","addressType","index","id","$dialog","error","changeUseIntegral","e","mp","detail","value","orderKey","addressId","parseInt","then","res","status","$yrouter","replace","path","result","orderId","cartIds","back","offline_pay_status","catch","addressTap","$refs","mychild","getAddressList","addressRedirect","couponTap","changeCoupon","coupon","couponTitle","payItem","changeAddress","createOrder","toast","mes","test","uni","showLoading","title","realName","phone","payType","seckillId","seckill_id","combinationId","combination_id","bargainId","bargain_id","shippingType","hideLoading","msg","showToast","icon","duration","setTimeout","jsConfig","err","response"],"mappings":"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","file":"pages/order/OrderSubmission/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/order/OrderSubmission/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=30e21796&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=30e21796&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30e21796\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('30e21796')) {\n      api.createRecord('30e21796', component.options)\n    } else {\n      api.reload('30e21796', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=30e21796&scoped=true&\", function () {\n      api.rerender('30e21796', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/piao/Documents/Project/yshopmall_uni/pages/order/OrderSubmission/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=30e21796&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport OrderGoods from \"@/components/OrderGoods\";\nimport CouponListWindow from \"@/components/CouponListWindow\";\nimport AddressWindow from \"@/components/AddressWindow\";\nimport { postOrderConfirm, postOrderComputed, createOrder } from \"@/api/order\";\nimport { mapGetters } from \"vuex\";\nimport { weappPay } from \"@/libs/wechat\";\nimport { isWeixin } from \"@/utils\";\n\nconst NAME = \"OrderSubmission\",\n  _isWeixin = isWeixin();\nexport default {\n  name: NAME,\n  components: {\n    OrderGoods,\n    CouponListWindow,\n    AddressWindow\n  },\n  props: {},\n  data: function() {\n    return {\n      offlinePayStatus: 2,\n      from: \"routine\",\n      // from: _isWeixin ? \"weixin\" : \"weixinh5\",\n      deduction: true,\n      isWeixin: _isWeixin,\n      pinkId: 0,\n      active: \"weixin\",\n      showCoupon: false,\n      showAddress: false,\n      addressInfo: {},\n      couponId: 0,\n      orderGroupInfo: {\n        priceGroup: {}\n      },\n      usableCoupon: {},\n      addressLoaded: false,\n      useIntegral: false,\n      orderPrice: {\n        payPrice: \"计算中\"\n      },\n      mark: \"\",\n      system_store: {},\n      shipping_type: 0,\n      contacts: \"\",\n      contactsTel: \"\",\n      store_self_mention: 0\n    };\n  },\n  computed: mapGetters([\"userInfo\"]),\n  watch: {\n    useIntegral() {\n      this.computedPrice();\n    },\n    $yroute(n) {\n      if (n.name === NAME) this.getCartInfo();\n    },\n    shipping_type() {\n      this.computedPrice();\n    }\n  },\n  mounted: function() {\n    let that = this;\n    that.getCartInfo();\n    if (that.$yroute.query.pinkid !== undefined)\n      that.pinkId = that.$yroute.query.pinkid;\n  },\n  methods: {\n    addressType: function(index) {\n      if (index && !this.system_store.id)\n        return this.$dialog.error(\"暂无门店信息，您无法选择到店自提！\");\n      this.shipping_type = index;\n    },\n    changeUseIntegral: function(e) {\n      // this.computedPrice();\n      this.useIntegral = e.mp.detail.value[0];\n    },\n    computedPrice() {\n      let shipping_type = this.shipping_type;\n      postOrderComputed(this.orderGroupInfo.orderKey, {\n        addressId: this.addressInfo.id,\n        useIntegral: this.useIntegral ? 1 : 0,\n        couponId: this.usableCoupon.id || 0,\n        shipping_type: parseInt(shipping_type) + 1\n      }).then(res => {\n        const data = res.data;\n        if (data.status === \"EXTEND_ORDER\") {\n          this.$yrouter.replace({\n            path: \"/pages/order/OrderDetails/index\",\n            query: { id: data.result.orderId }\n          });\n        } else {\n          this.orderPrice = data.result;\n        }\n      });\n    },\n    getCartInfo() {\n      const cartIds = this.$yroute.query.id;\n      if (!cartIds) {\n        this.$dialog.error(\"参数有误\");\n        return this.$yrouter.back();\n      }\n      postOrderConfirm(cartIds)\n        .then(res => {\n          this.offlinePayStatus = res.data.offline_pay_status;\n          this.orderGroupInfo = res.data;\n          this.deduction = res.data.deduction;\n          this.usableCoupon = res.data.usableCoupon || {};\n          this.addressInfo = res.data.addressInfo || {};\n          this.system_store = res.data.system_store || {};\n          this.store_self_mention = res.data.store_self_mention;\n          this.computedPrice();\n        })\n        .catch(() => {\n          this.$dialog.error(\"加载订单数据失败\");\n        });\n    },\n    addressTap: function() {\n      this.showAddress = true;\n      if (!this.addressLoaded) {\n        this.addressLoaded = true;\n        this.$refs.mychild.getAddressList();\n      }\n    },\n    addressRedirect() {\n      this.addressLoaded = false;\n      this.showAddress = false;\n    },\n    couponTap: function() {\n      this.showCoupon = true;\n    },\n    changeCoupon: function(coupon) {\n      if (!coupon) {\n        this.usableCoupon = { couponTitle: \"不使用优惠券\", id: 0 };\n      } else {\n        this.usableCoupon = coupon;\n      }\n      this.computedPrice();\n    },\n    payItem: function(index) {\n      this.active = index;\n    },\n    changeAddress(addressInfo) {\n      this.addressInfo = addressInfo;\n    },\n    createOrder() {\n      let shipping_type = this.shipping_type;\n      if (!this.active) return this.$dialog.toast({ mes: \"请选择支付方式\" });\n      if (!this.addressInfo.id && !this.shipping_type)\n        return this.$dialog.toast({ mes: \"请选择收货地址\" });\n      if (this.shipping_type) {\n        if (\n          (this.contacts === \"\" || this.contactsTel === \"\") &&\n          this.shipping_type\n        )\n          return this.$dialog.toast({ mes: \"请填写联系人或联系人电话\" });\n        if (!/^1(3|4|5|7|8|9|6)\\d{9}$/.test(this.contactsTel)) {\n          return this.$dialog.toast({ mes: \"请填写正确的手机号\" });\n        }\n        if (!/^[\\u4e00-\\u9fa5\\w]{2,16}$/.test(this.contacts)) {\n          return this.$dialog.toast({ mes: \"请填写您的真实姓名\" });\n        }\n      }\n\n      uni.showLoading({ title: \"生成订单中\" });\n      createOrder(this.orderGroupInfo.orderKey, {\n        realName: this.contacts,\n        phone: this.contactsTel,\n        addressId: this.addressInfo.id,\n        useIntegral: this.useIntegral ? 1 : 0,\n        couponId: this.usableCoupon.id || 0,\n        payType: this.active,\n        pinkId: this.pinkId,\n        seckillId: this.orderGroupInfo.seckill_id,\n        combinationId: this.orderGroupInfo.combination_id,\n        bargainId: this.orderGroupInfo.bargain_id,\n        from: this.from,\n        mark: this.mark || \"\",\n        shippingType: parseInt(shipping_type) + 1\n      })\n        .then(res => {\n          uni.hideLoading();\n          const data = res.data;\n          switch (data.status) {\n            case \"ORDER_EXIST\":\n            case \"EXTEND_ORDER\":\n            case \"PAY_DEFICIENCY\":\n            case \"PAY_ERROR\":\n              this.$dialog.toast({ mes: res.msg });\n              this.$yrouter.replace({\n                path: \"/pages/order/OrderDetails/index\",\n                query: { id: data.result.orderId }\n              });\n              break;\n            case \"SUCCESS\":\n              uni.showToast({\n                title: res.msg,\n                icon: \"none\",\n                duration: 2000\n              });\n              this.$yrouter.replace({\n                path: \"/pages/order/OrderDetails/index\",\n                query: { id: data.result.orderId }\n              });\n              break;\n            case \"WECHAT_H5_PAY\":\n              this.$yrouter.replace({\n                path: \"/pages/order/OrderDetails/index\",\n                query: { id: data.result.orderId }\n              });\n              setTimeout(() => {\n                // location.href = data.result.jsConfig.mweb_url;\n              }, 100);\n              break;\n            case \"WECHAT_PAY\":\n              weappPay(data.result.jsConfig).then(res => {\n                this.$yrouter.replace({\n                  path: \"/pages/order/OrderDetails/index\",\n                  query: { id: data.result.orderId }\n                });\n              });\n\n            // 下面为原先微信支付方式，\n            // pay(data.result.jsConfig).finally(() => {\n            //   this.$yrouter.replace({\n            //     path: \"/pages/order/OrderDetails/index\" ,query: { id: data.result.orderId}\n            //   });\n            // });\n          }\n        })\n        .catch(err => {\n          uni.hideLoading();\n          this.$dialog.error(err.response.data.msg || \"创建订单失败\");\n        });\n    }\n  }\n};\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=30e21796&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=30e21796&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}