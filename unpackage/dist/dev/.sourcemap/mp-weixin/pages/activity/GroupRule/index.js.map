{"version":3,"sources":["webpack:////Users/piao/Documents/Project/yshopmall_uni/main.js","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/activity/GroupRule/index.vue?1068","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/activity/GroupRule/index.vue?a48d","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/activity/GroupRule/index.vue?7d51","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/activity/GroupRule/index.vue?76ba","webpack:////Users/piao/Documents/Project/yshopmall_uni/pages/activity/GroupRule/index.vue"],"names":["createPage","Page","NAME","name","components","CountDown","props","data","currentPinkOrder","isOk","pinkBool","userBool","pinkAll","pinkT","storeCombination","pinkId","count","iShidden","watch","$yroute","n","that","query","id","getCombinationPink","mounted","url","methods","pay","productId","cartNum","totalNum","uniqueId","combinationId","new","then","res","$yrouter","push","path","cartId","pinkid","catch","err","$dialog","error","msg","response","goPoster","type","goOrder","goList","goDetail","$set","getCombinationRemove","cid","uni","showToast","title","icon","duration","lookAll"],"mappings":"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","file":"pages/activity/GroupRule/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/activity/GroupRule/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=18d9d834&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('18d9d834')) {\n      api.createRecord('18d9d834', component.options)\n    } else {\n      api.reload('18d9d834', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=18d9d834&\", function () {\n      api.rerender('18d9d834', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/piao/Documents/Project/yshopmall_uni/pages/activity/GroupRule/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=18d9d834&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CountDown from \"@/components/CountDown\";\nimport { getCombinationPink, getCombinationRemove } from \"@/api/activity\";\nimport { postCartAdd } from \"@/api/store\";\nimport { isWeixin, parseQuery, handleQrCode } from \"@/utils/index\";\n\nconst NAME = \"GroupRule\";\nexport default {\n  name: NAME,\n  components: {\n    CountDown\n  },\n  props: {},\n  data: function() {\n    return {\n      currentPinkOrder: \"\", //当前拼团订单\n      isOk: 0, //判断拼团是否完成\n      pinkBool: 0, //判断拼团是否成功|0=失败,1=成功\n      userBool: 0, //判断当前用户是否在团内|0=未在,1=在\n      pinkAll: [], //团员\n      pinkT: [], //团长信息\n      storeCombination: [], //拼团产品\n      pinkId: 0,\n      count: 0, //拼团剩余人数\n      iShidden: false\n    };\n  },\n  watch: {\n    $yroute(n) {\n      var that = this;\n      if (n.name === NAME) {\n        that.pinkId = that.$yroute.query.id;\n        that.getCombinationPink();\n      }\n    }\n  },\n  mounted: function() {\n    var that = this;\n    let url = handleQrCode();\n    if (url) {\n      that.pinkId = url.pinkId;\n    } else {\n      that.pinkId = that.$yroute.query.id;\n    }\n    that.getCombinationPink();\n  },\n  methods: {\n    pay: function() {\n      var that = this;\n      var data = {};\n      data.productId = that.storeCombination.productId;\n      data.cartNum = that.pinkT.totalNum;\n      data.uniqueId = \"\";\n      data.combinationId = that.storeCombination.id;\n      data.new = 1;\n      postCartAdd(data)\n        .then(res => {\n          that.$yrouter.push({\n            path: \"/pages/order/OrderSubmission/index\",\n            query: { id: res.data.cartId, pinkid: that.pinkId }\n          });\n        })\n        .catch(err => {\n          this.$dialog.error(err.msg||err.response.data.msg);\n        });\n    },\n    goPoster: function() {\n      var that = this;\n      this.$yrouter.push({\n        path: \"/pages/activity/Poster/index\",\n        query: { id: that.pinkId, type: 1 }\n      });\n    },\n    goOrder: function() {\n      var that = this;\n      this.$yrouter.push({\n        path: \"/pages/order/OrderDetails/index\",\n        query: { id: that.currentPinkOrder }\n      });\n    },\n    //拼团列表\n    goList: function() {\n      this.$yrouter.push({\n        path: \"/pages/activity/GoodsGroup/index\"\n      });\n    },\n    //拼团详情\n    goDetail: function(id) {\n      this.$yrouter.push({\n        path: \"/pages/activity/GroupDetails/index\",\n        query: { id }\n      });\n    },\n    //拼团信息\n    getCombinationPink: function() {\n      var that = this;\n      getCombinationPink(that.pinkId).then(res => {\n        that.$set(that, \"storeCombination\", res.data.storeCombination);\n        that.$set(that, \"pinkT\", res.data.pinkT);\n        that.$set(that, \"pinkAll\", res.data.pinkAll);\n        that.$set(that, \"count\", res.data.count);\n        that.$set(that, \"userBool\", res.data.userBool);\n        that.$set(that, \"pinkBool\", res.data.pinkBool);\n        that.$set(that, \"isOk\", res.data.isOk);\n        that.$set(that, \"currentPinkOrder\", res.data.currentPinkOrder);\n      });\n    },\n    //拼团取消\n    getCombinationRemove: function() {\n      var that = this;\n      getCombinationRemove({ id: that.pinkId, cid: that.storeCombination.id })\n        .then(res => {\n          uni.showToast({\n            title: res.msg,\n            icon: \"none\",\n            duration: 2000\n          });\n        })\n        .catch(res => {\n          uni.showToast({\n            title: res.msg,\n            icon: \"none\",\n            duration: 2000\n          });\n        });\n    },\n    lookAll: function() {\n      this.iShidden = !this.iShidden;\n    }\n  }\n};\n"],"sourceRoot":""}