{"version":3,"sources":["webpack:////Users/gaoxs/Documents/project/yshopmall_uni/main.js","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/activity/GroupRule/index.vue?4ad6","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/activity/GroupRule/index.vue?7402","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/activity/GroupRule/index.vue?1b69","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/activity/GroupRule/index.vue?1192","webpack:////Users/gaoxs/Documents/project/yshopmall_uni/pages/activity/GroupRule/index.vue"],"names":["createPage","Page","NAME","name","components","CountDown","props","data","currentPinkOrder","isOk","pinkBool","userBool","pinkAll","pinkT","storeCombination","pinkId","count","iShidden","watch","$yroute","n","that","query","id","getCombinationPink","mounted","url","methods","pay","productId","cartNum","totalNum","uniqueId","combinationId","new","then","res","$yrouter","push","path","cartId","pinkid","catch","err","uni","showToast","title","msg","response","icon","duration","goPoster","type","goOrder","goList","goDetail","$set","getCombinationRemove","cid","lookAll"],"mappings":"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","file":"pages/activity/GroupRule/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/activity/GroupRule/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=045cec36&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('045cec36')) {\n      api.createRecord('045cec36', component.options)\n    } else {\n      api.reload('045cec36', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=045cec36&\", function () {\n      api.rerender('045cec36', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaoxs/Documents/project/yshopmall_uni/pages/activity/GroupRule/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=045cec36&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CountDown from \"@/components/CountDown\";\nimport {\n\tgetCombinationPink,\n\tgetCombinationRemove\n} from \"@/api/activity\";\nimport {\n\tpostCartAdd\n} from \"@/api/store\";\nimport {\n\tisWeixin,\n\tparseQuery,\n\thandleQrCode\n} from \"@/utils/index\";\n\nconst NAME = \"GroupRule\";\nexport default {\n\tname: NAME,\n\tcomponents: {\n\t\tCountDown\n\t},\n\tprops: {},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentPinkOrder: \"\", //当前拼团订单\n\t\t\tisOk: 0, //判断拼团是否完成\n\t\t\tpinkBool: 0, //判断拼团是否成功|0=失败,1=成功\n\t\t\tuserBool: 0, //判断当前用户是否在团内|0=未在,1=在\n\t\t\tpinkAll: [], //团员\n\t\t\tpinkT: [], //团长信息\n\t\t\tstoreCombination: [], //拼团产品\n\t\t\tpinkId: 0,\n\t\t\tcount: 0, //拼团剩余人数\n\t\t\tiShidden: false\n\t\t};\n\t},\n\twatch: {\n\t\t$yroute(n) {\n\t\t\tvar that = this;\n\t\t\tif (n.name === NAME) {\n\t\t\t\tthat.pinkId = that.$yroute.query.id;\n\t\t\t\tthat.getCombinationPink();\n\t\t\t}\n\t\t}\n\t},\n\tmounted: function() {\n\t\tvar that = this;\n\t\tlet url = handleQrCode();\n\t\tif (url) {\n\t\t\tthat.pinkId = url.pinkId;\n\t\t} else {\n\t\t\tthat.pinkId = that.$yroute.query.id;\n\t\t}\n\t\tthat.getCombinationPink();\n\t},\n\tmethods: {\n\t\tpay: function() {\n\t\t\tvar that = this;\n\t\t\tvar data = {};\n\t\t\tdata.productId = that.storeCombination.productId;\n\t\t\tdata.cartNum = that.pinkT.totalNum;\n\t\t\tdata.uniqueId = \"\";\n\t\t\tdata.combinationId = that.storeCombination.id;\n\t\t\tdata.new = 1;\n\t\t\tpostCartAdd(data)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthat.$yrouter.push({\n\t\t\t\t\t\tpath: \"/pages/order/OrderSubmission/index\",\n\t\t\t\t\t\tquery: {\n\t\t\t\t\t\t\tid: res.data.cartId,\n\t\t\t\t\t\t\tpinkid: that.pinkId\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: err.msg || err.response.data.msg,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgoPoster: function() {\n\t\t\tvar that = this;\n\t\t\tthis.$yrouter.push({\n\t\t\t\tpath: \"/pages/activity/Poster/index\",\n\t\t\t\tquery: {\n\t\t\t\t\tid: that.pinkId,\n\t\t\t\t\ttype: 1\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgoOrder: function() {\n\t\t\tvar that = this;\n\t\t\tthis.$yrouter.push({\n\t\t\t\tpath: \"/pages/order/OrderDetails/index\",\n\t\t\t\tquery: {\n\t\t\t\t\tid: that.currentPinkOrder\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//拼团列表\n\t\tgoList: function() {\n\t\t\tthis.$yrouter.push({\n\t\t\t\tpath: \"/pages/activity/GoodsGroup/index\"\n\t\t\t});\n\t\t},\n\t\t//拼团详情\n\t\tgoDetail: function(id) {\n\t\t\tthis.$yrouter.push({\n\t\t\t\tpath: \"/pages/activity/GroupDetails/index\",\n\t\t\t\tquery: {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//拼团信息\n\t\tgetCombinationPink: function() {\n\t\t\tvar that = this;\n\t\t\tgetCombinationPink(that.pinkId).then(res => {\n\t\t\t\tthat.$set(that, \"storeCombination\", res.data.storeCombination);\n\t\t\t\tthat.$set(that, \"pinkT\", res.data.pinkT);\n\t\t\t\tthat.$set(that, \"pinkAll\", res.data.pinkAll);\n\t\t\t\tthat.$set(that, \"count\", res.data.count);\n\t\t\t\tthat.$set(that, \"userBool\", res.data.userBool);\n\t\t\t\tthat.$set(that, \"pinkBool\", res.data.pinkBool);\n\t\t\t\tthat.$set(that, \"isOk\", res.data.isOk);\n\t\t\t\tthat.$set(that, \"currentPinkOrder\", res.data.currentPinkOrder);\n\t\t\t});\n\t\t},\n\t\t//拼团取消\n\t\tgetCombinationRemove: function() {\n\t\t\tvar that = this;\n\t\t\tgetCombinationRemove({\n\t\t\t\t\tid: that.pinkId,\n\t\t\t\t\tcid: that.storeCombination.id\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(res => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tlookAll: function() {\n\t\t\tthis.iShidden = !this.iShidden;\n\t\t}\n\t}\n};\n"],"sourceRoot":""}